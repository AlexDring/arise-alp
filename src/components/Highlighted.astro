---
import { Image } from 'astro:assets'

import { storyblokEditable, renderRichText } from '@storyblok/astro'

const { blok } = Astro.props
const content = renderRichText(blok.content)
---

<section {...storyblokEditable(blok)}>
  <div class="highlighted__text">
    <head>
      <p class="subheading">{blok.sub_heading}</p>
      <h3>{blok.heading}</h3>
    </head>
    <Fragment set:html={content} />
  </div>
  <!-- <img src={blok.image.filename} alt={blok.image.alt} /> -->
  <div class="highlighted__image">
    <Image inferSize={true} src={blok.image.filename} alt={blok.image.alt} />
  </div>
</section>

<style>
  section {
    display: grid;
    grid-template-rows: 36px 1fr 36px;
    grid-template-columns: 7fr 1fr 4fr;
    align-items: center;
    margin-top: 120px;
    /* gap: 30px; */
    @media (max-width: 50rem) {
      display: flex;
      flex-direction: column-reverse;
    }
  }
  .highlighted__text {
    grid-area: 2/1/3/3;
    height: 100%;
    background: radial-gradient(
        66.86% 62.92% at 34.61% 46.08%,
        rgba(255, 166, 158, 0.3) 0%,
        rgba(255, 166, 158, 0) 100%
      ),
      radial-gradient(
        235.27% 59.43% at 92.5% 3.53%,
        rgba(32, 87, 224, 0.11) 0%,
        rgba(255, 255, 255, 0.15) 100%
      ),
      #fff;
    padding: clamp(60px, 10vw, 120px) clamp(40px, 7vw, 85px)
      clamp(60px, 10vw, 120px) clamp(50px, 8vw, 115px);
    @media (max-width: 50rem) {
      padding-top: var(--spacing-lg);
    }
    /* grid-area: 1/1/2/3; */
  }
  .highlighted__image {
    border-radius: var(--border-rad);
    grid-area: 1/2/4/4;
    height: 100%;
    z-index: -1;
    img {
      width: 100%;
      object-fit: cover;
      border-radius: var(--border-rad);
      height: 100%;
    }
    @media (max-width: 50rem) {
      height: 100%;
      max-width: 85%;
      margin-inline: auto;
      margin-bottom: -10%;
      z-index: 0;
      img {
        /* max-height: 300px; */
        aspect-ratio: 1/1;
      }
    }
  }
</style>
